/** chunk id: 33164, original params: e,t,a (module,exports,require) **/
a.d(t, {
    default: () => $
}), a(142703), a(896048);
var l = a(735438),
    r = a.n(l),
    n = a(158390),
    i = a(873298),
    s = a(587895),
    u = a(508675),
    o = a(49463),
    A = a(2866),
    d = a(891540),
    g = a(380335),
    c = a(209932),
    f = a(152007),
    m = a(802958),
    S = a(456874),
    p = a(617617),
    y = a(761821),
    v = a(616356),
    b = a(961350),
    I = a(470710),
    O = a(734057),
    h = a(134861),
    P = a(153488),
    C = a(760751),
    j = a(629016),
    G = a(919638),
    R = a(498642),
    w = a(696451),
    _ = a(317525),
    k = a(71393),
    D = a(375492),
    U = a(430452),
    V = a(290863),
    E = a(383501),
    L = a(222823),
    M = a(994500),
    N = a(309010),
    T = a(543465),
    z = a(287809),
    F = a(977997),
    H = a(295405),
    W = a(147964),
    Y = a(157257),
    q = a(689168),
    x = a(256415),
    J = a(860689),
    Z = a(9302),
    Q = a(211753),
    B = a(833551),
    K = a(592598),
    X = a(127242);
async function $(e, t) {
    let a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new n.A;
    await new Promise(e => setImmediate(e));
    let l = z.default.getCurrentUser();
    if (null == l) return new Promise(l => {
        a.fail(() => {
            l($(e, t, a))
        })
    });
    a.succeed();
    let ee = Object.values(z.default.getUsers()),
        et = k.A.getGuildsArray().map(e => {
            var t, a;
            return {
                properties: (0, J.yN)(e),
                additionalFields: {
                    joinedAt: null != (t = null == (a = e.joinedAt) ? void 0 : a.toISOString()) ? t : null,
                    premiumSubscriberCount: e.premiumSubscriberCount
                }
            }
        }),
        ea = _.A.serializeAllGuildRoles(),
        el = r().values(O.A.getInitialOverlayState()),
        er = w.Ay.getMutableAllGuildsAndMembers(),
        en = L.Ay.getAllReadStates(!0),
        ei = F.A.getAllVoiceStates(),
        es = V.A.getState(),
        eu = G.A.unavailableGuilds,
        eo = r().mapValues(u.Ay.getGuilds(), e => e.emojis),
        eA = T.Ay.getAllSettings(),
        ed = I.A.getInternalState(),
        eg = q.A.getStates(),
        ec = h.A.getAllConnections(),
        ef = D.A.getApplicationActivities(),
        em = j.A.getParties(),
        eS = j.A.getUserParties(),
        ep = b.default.getSessionId(),
        ey = b.default.getAnalyticsToken(),
        ev = Y.A.getGameForPID(t),
        eb = R.A.getMemberCounts(),
        eI = Array.from(M.A.getMutableRelationships().entries()),
        eO = Array.from(g.A.getMessageRequestChannelIds()),
        eh = N.A.getVoiceChannelId(),
        eP = x.default.getFocusedPID(),
        eC = x.default.getSelectedGuildId(),
        ej = x.default.getSelectedChannelId(),
        eG = U.A.getState(),
        eR = C.A.games,
        ew = Object.values(H.A.paymentSources).map(e => e.toJS()),
        e_ = H.A.defaultPaymentSourceId,
        ek = H.A.hasFetchedPaymentSources,
        eD = v.A.getStreamingState(),
        eU = s.A._getAllApplications().map(e => e.toJS()),
        eV = W.A.testModeApplicationId,
        eE = {
            null: {
                state: E.A.getState(),
                pings: E.A.getPings(),
                quality: E.A.getQuality(),
                hostname: E.A.getHostname(),
                lossRate: E.A.getOutboundLossRate()
            }
        },
        eL = Array.from(d.A.getState().hiddenHotspots),
        eM = o.A.getSerializedState(),
        eN = A.A.getState(),
        eT = f.A.getInitialOverlayState(),
        ez = m.A.getInitialOverlayState(),
        eF = S.A.getInitialOverlayState(),
        eH = (0, y.ob)(i.nT, p.A.settings),
        eW = c.A.getOverlaySerializedState(),
        eY = P.A.consents,
        eq = Object.values(B.default.getTrackedGames()),
        ex = Q.x.serialize(),
        eJ = Array.from(X.A.getRenderDebugModes()),
        eZ = K.A.getInitialOverlayState();
    return {
        type: "OVERLAY_INITIALIZE",
        version: Z.OVERLAY_VERSION,
        users: ee,
        guilds: et,
        serializedGuildRoles: ea,
        channels: el,
        guildMembers: er,
        readStates: en,
        voiceStates: ei,
        unavailableGuilds: eu,
        emojis: eo,
        allUserGuildSettings: eA,
        callStoreInternalState: ed,
        activityLauncherStates: eg,
        connectedApps: ec,
        localActivities: ef,
        parties: em,
        userParties: eS,
        user: l,
        messageRequestChannelIds: eO,
        token: e,
        sessionId: ep,
        analyticsToken: ey,
        presences: es,
        currentGame: ev,
        selectedVoiceChannelId: eh,
        selectedChannelId: ej,
        selectedGuildId: eC,
        guildMemberCounts: eb,
        relationships: eI,
        mediaEngineState: eG,
        rtcConnectionStates: eE,
        focusedPID: eP,
        applications: eU,
        paymentSources: ew,
        defaultPaymentSourceId: e_,
        hasFetchedPaymentSources: ek,
        testModeApplicationId: eV,
        applicationStreamState: eD,
        hiddenHotspots: eL,
        serializedExperimentStore: eM,
        streamingCapabilitiesStoreState: eN,
        joinedThreads: eT,
        threadMembers: ez,
        threadMessages: eF,
        userSettingsProto: eH,
        soundboardStoreState: eW,
        detectableApplications: eR,
        consents: eY,
        trackedGames: eq,
        overlayStoredSettings: ex,
        renderDebugModes: eJ,
        overlayNotificationSettings: eZ
    }
}